<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindAR Demo</title>

  <!-- THREE.JS ES MODULE DESDE CDN -->
  <script type="module">
    import { MindARThree } from "https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-three.prod.js";
    import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.module.js";

    document.addEventListener("DOMContentLoaded", () => {
      const start = async() => {
        const mindarThree = new MindARThree({
          container: document.body,
          imageTargetSrc: "./cubo2.mind"
        });

        const {renderer, scene, camera} = mindarThree;

        const anchor = mindarThree.addAnchor(0);

        const geometry = new THREE.BoxGeometry(1,1,1);
        const material = new THREE.MeshNormalMaterial();
        const cube = new THREE.Mesh(geometry, material);

        anchor.group.add(cube);

        await mindarThree.start();

        renderer.setAnimationLoop(() => {
          cube.rotation.x += 0.01;
          cube.rotation.y += 0.01;
          renderer.render(scene, camera);
        });
      };

      start();
    });
  </script>
</head>
<body style="margin:0; overflow:hidden;">
</body>
</html>
